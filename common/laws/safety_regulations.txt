law_no_safety_regulations = {
	group = lawgroup_safety_regulations
	
	icon = "gfx/interface/icons/law_icons/no_home_affairs.dds"
	
	progressiveness = -20

	
	ai_will_do = {
		always = no
	}
}
law_minimal_safety = {
	group = lawgroup_safety_regulations
	
	icon = "gfx/interface/icons/law_icons/poor_laws.dds"
	
	progressiveness = 50

	unlocking_technologies = {
		labor_movement
	}

	institution = institution_workplace_safety
	
	institution_modifier = {
			interest_group_ig_trade_unions_pol_str_mult = 0.03
	}

	modifier = {
		state_migration_pull_mult = 0.05
		interest_group_ig_trade_unions_pol_str_mult = 0.05
	}
	
	possible_political_movements = {
		law_regulatory_bodies
	}

	pop_support = {
		value = 0

		add = {
			desc = "POP_CAPITALISTS"
			if = {
				limit = {
					is_pop_type = capitalists
					owner = { 
						has_law = law_regulatory_bodies
				}
				}
			}
			value = 0.15
			#multiply = literacy_rate
		}


		add = {
			desc = "POP_DANGEROUS_JOBS"		
			if = {
				limit = { 
					NOT = { strata = rich }
					OR = {
						pop_employment_building_group = bg_mining
						pop_employment_building_group = bg_manufacturing
					}
					owner = { 
						NOT = { has_law = law_type:law_minimal_safety }
					}
				}
				add = {
					value = literacy_rate
					divide = 2
				}
			}			
		}
		add = {
			desc = "POP_POVERTY"			
			if = {
				limit = { 
					owner = { NOT = { has_law = law_type:law_minimal_safety } }
				}
				
				# SoL 19 gives 0.1 pop support, 18 -> 0.2, 17 -> 0.3, ... 5 -> 1.5
				value = 20
				subtract = standard_of_living
				multiply = 0.1
				multiply = literacy_rate
				min = 0
				max = 0.6
			}
		}
	}		
}

law_regulatory_bodies = { # Limited Safety Regulations. Codenamed as law_regulatory_bodies in order to keep it compatible with vanilla events that use this law
	group = lawgroup_safety_regulations
	
	icon = "gfx/interface/icons/law_icons/regulatory_bodies.dds"

	progressiveness = 100

	unlocking_technologies = {
		labor_movement
	}
	
	can_enact = { 
		has_law = law_type:law_minimal_safety
	}
	
	institution = institution_workplace_safety
	institution_modifier = {
		building_working_conditions_mult = -0.1
		state_loyalists_from_sol_change_mult = 0.05
		interest_group_ig_trade_unions_pol_str_mult = 0.05
		country_bureaucracy_investment_cost_factor_mult = 0.005
		state_poor_standard_of_living_add = 0.2
		state_middle_standard_of_living_add = 0.2
	}

	possible_political_movements = {
		law_regulatory_bodies
		law_minimal_safety
	}

	modifier = {
		interest_group_ig_trade_unions_pop_attraction_mult = 0.05
		state_migration_pull_mult = 0.1
	}
	
	pop_support = {
		value = 0

		add = {
			desc = "POP_CAPITALISTS"
			if = {
				limit = {
					is_pop_type = capitalists
					owner = { 
						has_law = law_worker_protections
				}
				}
			}
			value = 0.15
			#multiply = literacy_rate
		}

		add = {
			desc = "POP_DANGEROUS_JOBS"		
			if = {
				limit = { 
					NOT = { strata = rich }
					OR = {
						pop_employment_building_group = bg_mining
						pop_employment_building_group = bg_manufacturing
					}
					owner = { 
						NOT = { has_law = law_type:law_worker_protections }
					}
				}
				add = {
					value = literacy_rate
					divide = 2
				}
			}			
		}
		add = {
			desc = "POP_POVERTY"			
			if = {
				limit = { 
					owner = { NOT = { has_law = law_type:law_worker_protections } }
				}
				
				# SoL 19 gives 0.1 pop support, 18 -> 0.2, 17 -> 0.3, ... 5 -> 1.5
				value = 20
				subtract = standard_of_living
				multiply = 0.1
				multiply = literacy_rate
				min = 0
				max = 0.75
			}
		}
	}	
}
law_worker_protections = { # Acceptable Safety Regulations. Codenamed as law_worker_protections in order to keep it compatible with vanilla events that use this law
	group = lawgroup_safety_regulations
	
	icon = "gfx/interface/icons/law_icons/protectionism.dds"

	progressiveness = 100

	unlocking_technologies = {
		socialism
	}
	
	can_enact = { 
		has_law = law_type:law_regulatory_bodies
	}
	
	institution = institution_workplace_safety
	institution_modifier = {
		building_working_conditions_mult = -0.2
		state_working_adult_ratio_add = 0.004
		interest_group_ig_trade_unions_pol_str_mult = 0.02
	}
	
	modifier = {
		interest_group_ig_trade_unions_pop_attraction_mult = 0.1
		interest_group_ig_trade_unions_pol_str_mult = 0.1
		state_migration_pull_mult = 0.15
		state_poor_standard_of_living_add = 2
		state_middle_standard_of_living_add = 2
	}
	
	possible_political_movements = {
		law_regulatory_bodies
		law_worker_protections
	}

	pop_support = {
		value = 0

		add = {
			desc = "POP_CAPITALISTS"
			if = {
				limit = {
					is_pop_type = capitalists
					owner = { 
						has_law = law_excellent_safety
				}
				}
			}
			value = 0.15
			#multiply = literacy_rate
		}

		add = {
			desc = "POP_DANGEROUS_JOBS"		
			if = {
				limit = { 
					NOT = { strata = rich }
					OR = {
						pop_employment_building_group = bg_mining
						pop_employment_building_group = bg_manufacturing
					}
				}
				add = {
					value = literacy_rate
					divide = 2
				}
			}			
		}
		add = {
			desc = "POP_POVERTY"			
			# SoL 19 gives 0.1 pop support, 18 -> 0.2, 17 -> 0.3, ... 5 -> 1.5
			value = 20
			subtract = standard_of_living
			multiply = 0.1
			multiply = literacy_rate
			min = 0
			max = 0.85
		}
	}	
}
law_excellent_safety = {
	group = lawgroup_safety_regulations
	
	icon = "gfx/interface/icons/law_icons/worker_protections.dds"

	progressiveness = 100

	unlocking_technologies = {
		socialism
	}
	
	can_enact = { 
		has_law = law_type:law_worker_protections
	}
	
	institution = institution_workplace_safety
	institution_modifier = {
		building_working_conditions_mult = -0.3
		building_minimum_wage_mult = 0.15
		state_working_adult_ratio_add = 0.01
		interest_group_ig_trade_unions_pop_attraction_mult = 0.03
		interest_group_ig_trade_unions_pol_str_mult = 0.03
	}

	modifier = {
		interest_group_ig_trade_unions_pop_attraction_mult = 0.125
		interest_group_ig_trade_unions_pol_str_mult = 0.125
		state_migration_pull_mult = 0.2
		state_poor_standard_of_living_add = 3
		state_middle_standard_of_living_add = 2
	}
	
	possible_political_movements = {
		law_worker_protections
	}

	pop_support = {
		value = 0

		add = {
			desc = "POP_DANGEROUS_JOBS"		
			if = {
				limit = { 
					NOT = { strata = rich }
					OR = {
						pop_employment_building_group = bg_mining
						pop_employment_building_group = bg_manufacturing
					}
				}
				add = {
					value = literacy_rate
					divide = 2
				}
			}			
		}
		add = {
			desc = "POP_POVERTY"			
			# SoL 19 gives 0.1 pop support, 18 -> 0.2, 17 -> 0.3, ... 5 -> 1.5
			value = 20
			subtract = standard_of_living
			multiply = 0.1
			multiply = literacy_rate
			min = 0
			max = 1.0
		}
	}	
}
